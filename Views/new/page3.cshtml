
@{
    List<FYP1.City> city = ViewBag.cList;
    List<FYP1.Market> market = ViewBag.mList;
    List<FYP1.Category> cat = ViewBag.catList;
    List<FYP1.subCategory> sCat = ViewBag.sList;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row" style="background-color: #577492 ; width:100% ; height:15%">
    <div class="col-md-2" style="margin-top:3% ; margin-left:5px ; font-size:x-large; color: #D4D8D1; font-weight:600">
        iReviewing
    </div>
    <div class="col-md-4" style="margin-top:3%">
        <form role="search" class="" action="~/Home/searchBarResultsStores" method="post">
            <div class="form-group">
                <div class="row">
                    <div class="col-md-10"> <input name="Search" type="text" placeholder="Search" class="form-control" /> </div>
                    <div class="col-md-1">
                        <input type="submit" value="Search" style="font-size:large ; color: #D4D8D1; background-color: #67655D " />
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="col-md-3">
        <p>
        </p>
    </div>
    <div class="col-md-4" style="margin-left:10%">
        <div style="margin-top:9% ; background-color:#67655D ; color:#D4D8D1">



            <ul class="nav navbar-nav" style="background-color: #67655D">
                <li class="dropdown">
                    <a id="hC" style="color: #D4D8D1"> Home </a>
                    <script>
                        $(document).ready(function () {
                            $('#hC').click(function () {
                                $('#userM').hide();
                                $('#sideBar').show();
                                $('#loadPage').empty();
                                $('#loadPage').show();
                                $('#loadPage').load('mainScreen');
                            });
                        });
                    </script>
                </li>


                <li class="dropdown" id="comL">
                    <a style="color: #D4D8D1" href="#" data-toggle="dropdown" class="dropdown-toggle"> Community </a>
                    <ul role="menu" class="dropdown-menu" style="list-style: none; background-color: #577492" id="comList">
                        <li style="list-style:none">
                            <a id="tcC" style="color: #D4D8D1"> Terms & Conditions</a>
                            <script>
                                $(document).ready(function () {
                                    $('#tcC').click(function () {
                                        $('#userM').hide();
                                        $('#sideBar').show();
                                        $('#loadPage').empty();
                                        $('#loadPage').show();
                                        $('#loadPage').load('TnC');
                                    });
                                });
                            </script>
                        </li>
                        <li style="list-style:none">
                            <a id="tRC" style="color: #D4D8D1"> Top Reviewers </a>
                            <script>
                                $(document).ready(function () {
                                    $('#tRC').click(function () {
                                        $('#userM').hide();
                                        $('#sideBar').show();
                                        $('#loadPage').empty();
                                        $('#loadPage').show();
                                        $('#loadPage').load('topReviewers');
                                    });
                                });
                            </script>
                        </li>
                        <li style="list-style:none">
                            <a id="high" style="color: #D4D8D1"> Highest Rated Stores  </a>
                            <script>
                                $(document).ready(function () {
                                    $('#high').click(function () {
                                        $('#userM').hide();
                                        $('#sideBar').show();
                                        $('#loadPage').empty();
                                        $('#loadPage').show();
                                        $('#loadPage').load('highestRatedStores');
                                    });
                                });
                            </script>
                        </li>
                        <li style="list-style:none">
                            <a id="lRSC" style="color: #D4D8D1"> Lowest Rated Stores </a>
                            <script>
                                $(document).ready(function () {
                                    $('#lRSC').click(function () {
                                        $('#userM').hide();
                                        $('#sideBar').show();
                                        $('#loadPage').empty();
                                        $('#loadPage').show();
                                        $('#loadPage').load('lowestRatedStores');
                                    });
                                });
                            </script>
                        </li>
                    </ul>
                </li>

                <li class="dropdown" id="aL">
                    @if (Session["merchantIn"] != null)
                    {
                        <a id="mAS" style="color: #D4D8D1" data-toggle="dropdown" class="dropdown-toggle"> Add Store </a>
                        <script>
                            $(document).ready(function () {
                                $('#mAS').click(function () {
                                    $('#sideBar').hide();
                                    $('#userM').empty();
                                    $('#userM').show();
                                    $('#userM').load('/Admin/createStore');
                                });
                            });
                        </script>
                    }
                    else if (Session["merchantIn"] == null)
                    {
                        <a href="#" style="color: #D4D8D1" data-toggle="dropdown" class="dropdown-toggle"> Add Store </a>
                        <ul role="menu" class="dropdown-menu" style="list-style: none; background-color: #577492" id="aList">
                            <li style="list-style:none">
                                <a id="" style="color: #D4D8D1"> Sign In as Merchant </a>
                            </li>
                        </ul>
                    }
                </li>
                @if (Session["userIn"] == null && Session["merchantIn"] == null)
                {
                    <li class="dropdown" id="signL">
                        <a style="color: #D4D8D1" href="~/Home/signIn" data-toggle="dropdown" class="dropdown-toggle"> Sign In </a>
                        <ul role="menu" class="dropdown-menu" style="list-style: none; background-color: #577492" id="signList">
                            <li style="list-style:none">
                                <a id="sIn" style="color: #D4D8D1"> Sign In </a>
                                <script>
                                    $(document).ready(function () {
                                        $('#sIn').click(function () {
                                            $('#userM').show();
                                            $('#sideBar').hide();
                                            $('#userM').load('signIn');
                                        });
                                    });
                                </script>
                            </li>
                            <li style="list-style:none">
                                <a id="sUp" style="color: #D4D8D1"> Sign Up as User </a>
                                <script>
                                    $(document).ready(function () {
                                        $('#sUp').click(function () {
                                            $('#userM').show();
                                            $('#sideBar').hide();
                                            $('#userM').load('signUp');
                                        });
                                    });
                                </script>
                            </li>
                            <li style="list-style:none">
                                <a id="sUpM" style="color: #D4D8D1"> Sign Up as merchant </a>
                                <script>
                                    $(document).ready(function () {
                                        $('#sUpM').click(function () {
                                            $('#userM').show();
                                            $('#sideBar').hide();
                                            $('#userM').load('/Admin/mSignUp');
                                        });
                                    });
                                </script>
                            </li>
                        </ul>
                    </li>
                }
                else if (Session["userIn"] != null || Session["merchantIn"] != null)
                {
                    <li class="dropdown" id="signL">
                        <a style="color: #D4D8D1" href="" data-toggle="dropdown" class="dropdown-toggle"> <img src="" height="50" width="50" /> </a>
                        <ul role="menu" class="dropdown-menu" style="list-style: none; background-color: #577492" id="signList">
                            <li style="list-style:none">
                                <a href="" style="color: #D4D8D1"> Change Password </a>
                            </li>
                            <li style="list-style:none">
                                <a id="logout" style="color: #D4D8D1"> Logout </a>
                                <script>
                                    $(document).ready(function () {
                                        $('#logout').click(function () {
                                            $('#userM').hide();
                                            $('#sideBar').show();
                                            $('#loadPage').empty();
                                            $('#loadPage').show();
                                            $('#loadPage').load('mainScreen');
                                        });
                                    });
                                </script>
                            </li>
                        </ul>
                    </li>
                }

            </ul>

        </div>
    </div>
</div>

<div style="margin-top:3%" class="row">
    <div class="col-md-7">
    </div>
    <div class="col-md-4">
        <a id="tagR"> write review to the store that doesn't exist here </a>
        <script>
            $(document).ready(function () {
                $('#tagR').click(function () {
                    $('#userM').hide();
                    $('#sideBar').show();
                    $('#loadPage').empty();
                    $('#loadPage').show();
                    $('#loadPage').load('tagReviews');
                });
            });
        </script>
    </div>
</div>

<div class="row" id="sideBar">
    <div class="col-md-2" style="background-color:#67655D ; height:100% ; margin-bottom:5% ; margin-top:5% ">
        <div style="margin-left:10px">

            <div id="dC" style="margin-top:40%">
                <a href="#" style="color: #D4D8D1; font-size: large; font-weight: 600"> Cities </a>
                <div id="hCity" style="margin-left:5px">
                    @for (int i = 0; i < city.Count && i < 8; i++)
                    {
                        <a id="hCity" style="color: #D4D8D1"> @city.ElementAt(i).cityName </a> <br />
                    }


                </div>
                <div id="dCity" style="margin-left:5px">

                    @for (int i = 0; i < city.Count; i++)
                    {
                        int idc = city.ElementAt(i).cityId;
                        string cc = city.ElementAt(i).cityId + "c";
                        <a id="@cc" style="color: #D4D8D1"> @city.ElementAt(i).cityName </a> <br />
                        <script>
                            $(document).ready(function () {
                                $('#@cc').click(function () {
                                    $('#userM').hide();
                                    $('#sideBar').show();
                                    $('#loadPage').empty();
                                    $('#loadPage').show();
                                    $('#loadPage').load('city/@idc');
                                });
                            });
                        </script>
                    }
                </div>

            </div>

            <div id="dC1" style="margin-top:25%">
                <a href="#" style="color: #D4D8D1; font-size: large; font-weight: 600"> Categories </a>

                <div id="hCat">

                    <ul style="list-style:none">
                        @for (int i = 0; i < cat.Count; i++)
                        {
                            <li class="menu-item dropdown">
                                @if (sCat.Count >= 1)
                                {
                                    <a class="dropdown-toggle" data-toggle="dropdown" style="color: #D4D8D1"> @cat.ElementAt(i).categoryName <b class="caret"></b></a>

                                    <ul class="dropdown-menu" style="list-style:none ; background-color:#577492">
                                        @for (int j = 0; j < sCat.Count; j++)
                                        {
                                            if (cat.ElementAt(i).categoryId == sCat.ElementAt(j).categoryId)
                                            {
                                                int ids = sCat.ElementAt(j).subCategoryId;
                                                string ss = sCat.ElementAt(j).subCategoryId + "s";
                                                <li>
                                                    <a id="@ss" style="color: #D4D8D1"> @sCat.ElementAt(j).subCategoryName </a>
                                                    <script>
                                                        $(document).ready(function () {
                                                            $('#@ss').click(function () {
                                                                $('#userM').hide();
                                                                $('#sideBar').show();
                                                                $('#loadPage').empty();
                                                                $('#loadPage').show();
                                                                $('#loadPage').load('category/@ids');
                                                            });
                                                        });
                                                    </script>
                                                </li>
                                            }
                                        }
                                    </ul>
                                }

                            </li>
                        }
                    </ul>


                </div>

            </div>

            <div id="dM" style="margin-top:25%">
                <a href="#" style="color: #D4D8D1; font-size: large; font-weight: 600"> Markets</a>
                <div id="hMar" style="margin-left:15px">

                    @for (int i = 0; i < market.Count && i < 8; i++)
                    {
                        <a id="hMar" style="color: #D4D8D1"> @market.ElementAt(i).marketName </a> <br />
                    }

                </div>
                <div id="dMar" style="margin-left:15px">
                    @for (int i = 0; i < market.Count; i++)
                    {
                        int idm = market.ElementAt(i).marketId;
                        string mm = market.ElementAt(i).marketId + "m";
                        <a id="@mm" style="color: #D4D8D1"> @market.ElementAt(i).marketName </a>
                        <br />
                        <script>
                            $(document).ready(function () {
                                $('#@mm').click(function () {
                                    $('#userM').hide();
                                    $('#sideBar').show();
                                    $('#loadPage').empty();
                                    $('#loadPage').show();
                                    $('#loadPage').load('market/@idm');

                                });

                            });
                        </script>
                    }

                </div>

            </div>


        </div>
    </div>

    <div class="col-md-8">
        <div id="loadPage" style="margin-left:4%">

        </div>

    </div>

</div>

<div id="userM" class="row">
</div>

@Scripts.Render("~/bundles/jquery")
<script>

    $(document).ready(function () {

        $('#dCity').hide();
        $('#dCat').hide();
        $('#dMar').hide();

        $('#hCity').show();
        $('#hCat').show();
        $('#hMar').show();


        $('#dC').mouseover(function () {
            $('#hCity').hide();
            $('#dCity').show();
        });

        $('#dC').mouseout(function () {
            $('#dCity').hide();
            $('#hCity').show();
        });

        $('#dCity').mouseover(function () {
            $('#dCity').show();
            $('#hCity').hide();
        });

        $('#dCity').mouseout(function () {
            $('#dCity').hide();
            $('#hCity').show();
        });







        $('#dM').mouseover(function () {
            $('#hMar').hide();
            $('#dMar').show();
        });

        $('#dM').mouseout(function () {
            $('#dMar').hide();
            $('#hMar').show();
        });

        $('#dMar').mouseover(function () {
            $('#dMar').show();
            $('#hMar').hide();
        });

        $('#dMar').mouseout(function () {
            $('#dMar').hide();
            $('#hMar').show();
        });


    });

</script>


@Scripts.Render("~/bundles/jquery")
<script>
    $(document).ready(function () {

        $('#comList').hide();
        $('#signList').hide();
        $('#aList').hide();


        $('#comL').mouseover(function () {
            $('#comList').show();
        });

        $('#comList').mouseover(function () {
            $('#comList').show();
        });

        $('#comL').mouseout(function () {
            $('#comList').hide();
        });

        $('#comList').mouseout(function () {
            $('#comList').hide();
        });



        $('#signL').mouseover(function () {
            $('#signList').show();
        });

        $('#signList').mouseover(function () {
            $('#signList').show();
        });

        $('#signL').mouseout(function () {
            $('#signList').hide();
        });

        $('#signList').mouseout(function () {
            $('#signList').hide();
        });


        $('#aL').mouseover(function () {
            $('#aList').show();
        });

        $('#aList').mouseover(function () {
            $('#aList').show();
        });

        $('#aL').mouseout(function () {
            $('#aList').hide();
        });

        $('#aList').mouseout(function () {
            $('#aList').hide();
        });

    });

</script>
